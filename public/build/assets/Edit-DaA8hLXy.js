import{T as w,c as V,w as u,o as g,a as r,i as v,b as t,u as s,g as b,n as h}from"./app-BlvVrBEN.js";import{a as p}from"./formateDate-C_j6Kqza.js";import{A as T}from"./AppLayout-yWdTq67O.js";import{_ as l}from"./InputLabel-BLj-ccaX.js";import{_ as i}from"./InputError-uvQIMCwL.js";import{_ as U}from"./PrimaryButton-Drh5wuWt.js";import{s as $,a as c}from"./index-wV6Cxtfh.js";import{_ as f}from"./TextInput-_Znk-FFS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BJ7OeXDr.js";import"./index-ID1KrQnb.js";const x={class:"workday__edit"},B={class:"container"},D={class:"form__block"},S={class:"form__blocks"},L={class:"form__block"},N={class:"form__block"},A={class:"form__blocks"},C={class:"form__block"},G={class:"form__block"},P={__name:"Edit",props:{workday:{type:Object,required:!0}},setup(y){const d=y,_=n=>{const[a,o]=n.split(":"),m=new Date;return m.setHours(parseInt(a,10)),m.setMinutes(parseInt(o,10)),m.setSeconds(0),m},e=w({date_start:new Date(d.workday.date_start),days_work:d.workday.days_work,days_rest:d.workday.days_rest,time_start:p(d.workday.time_start),time_end:p(d.workday.time_end)}),k=()=>{e.time_start=_(e.time_start),e.time_end=_(e.time_end),e.put(route("employees.workday.update",d.workday.employee_id),{onBefore:()=>{e.time_start=new Date(e.time_start).toLocaleTimeString(),e.time_end=new Date(e.time_end).toLocaleTimeString()}})};return(n,a)=>(g(),V(T,{title:"Редактировать рабочий день"},{default:u(()=>[r("section",x,[r("div",B,[r("form",{onSubmit:v(k,["prevent"]),class:"form"},[r("div",D,[t(l,{for:"date_start",value:"Начало расчета рабочего дня"}),t(s($),{id:"date_start",modelValue:s(e).date_start,"onUpdate:modelValue":a[0]||(a[0]=o=>s(e).date_start=o),placeholder:"10/28/2024"},null,8,["modelValue"]),t(i,{message:s(e).errors.date_start},null,8,["message"])]),r("div",S,[r("div",L,[t(l,{for:"days_work",value:"Количество рабочих дней"}),t(s(c),{id:"days_work",modelValue:s(e).days_work,"onUpdate:modelValue":a[1]||(a[1]=o=>s(e).days_work=o),useGrouping:!1,placeholder:"5"},null,8,["modelValue"]),t(i,{message:s(e).errors.days_work},null,8,["message"])]),r("div",N,[t(l,{for:"days_rest",value:"Количество дней отдыха"}),t(s(c),{id:"days_rest",modelValue:s(e).days_rest,"onUpdate:modelValue":a[2]||(a[2]=o=>s(e).days_rest=o),useGrouping:!1,placeholder:"2"},null,8,["modelValue"]),t(i,{message:s(e).errors.days_rest},null,8,["message"])])]),r("div",A,[r("div",C,[t(l,{for:"time_start",value:"Начало смены"}),t(f,{id:"time_start",class:"input",type:"time",modelValue:s(e).time_start,"onUpdate:modelValue":a[3]||(a[3]=o=>s(e).time_start=o),placeholder:"09:00"},null,8,["modelValue"]),t(i,{message:s(e).errors.time_start},null,8,["message"])]),r("div",G,[t(l,{for:"time_end",value:"Конец смены"}),t(f,{id:"time_end",class:"input",type:"time",modelValue:s(e).time_end,"onUpdate:modelValue":a[4]||(a[4]=o=>s(e).time_end=o),placeholder:"17:00"},null,8,["modelValue"]),t(i,{message:s(e).errors.time_end},null,8,["message"])])]),t(U,{class:h({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:u(()=>[b(" Редактировать рабочий день ")]),_:1},8,["class","disabled"])],32)])])]),_:1}))}};export{P as default};
