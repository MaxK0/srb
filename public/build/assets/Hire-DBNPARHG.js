import{T as f,c as h,w as p,o as b,a as r,t as g,i as k,b as o,u as e,g as V,n as v,m as w}from"./app-BlvVrBEN.js";import{A as y}from"./AppLayout-yWdTq67O.js";import{_ as m}from"./InputLabel-BLj-ccaX.js";import{_ as l}from"./InputError-uvQIMCwL.js";import{_ as x}from"./PrimaryButton-Drh5wuWt.js";import{s as d}from"./index-BJ7OeXDr.js";import{s as j}from"./index-D4U8QGH7.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-ID1KrQnb.js";const $={class:"employees__create"},q={class:"container"},B={class:"mb-6"},C={class:"form__blocks"},I={class:"form__block"},L={class:"form__block"},N={class:"form__block"},U={__name:"Hire",props:{user:{type:Object,required:!0},branches:{type:Object,required:!0},positions:Object,filter:{type:Object,required:!0}},setup(n){const a=n,s=f({branch:a.branches.find(c=>c.id==a.filter.branchId),position:[],work_phone:"",user:a.user}),u=()=>{const c=s.branch.id;w.get(route("users.hire",{branch_id:c,user:a.user}))},_=()=>{s.post(route("users.hire.store",a.user))};return(c,t)=>(b(),h(y,{title:"Нанять пользователя"},{default:p(()=>[r("section",$,[r("div",q,[r("h5",B,"Пользователь: "+g(n.user.fio_short),1),r("form",{class:"form",onSubmit:k(_,["prevent"])},[r("div",C,[r("div",I,[o(m,{for:"branch",value:"Филиал"}),o(e(d),{modelValue:e(s).branch,"onUpdate:modelValue":t[0]||(t[0]=i=>e(s).branch=i),options:n.branches,filter:"",optionLabel:"title",placeholder:"Выберите филиал",class:"select",onChange:u},null,8,["modelValue","options"]),o(l,{message:e(s).errors.branch},null,8,["message"]),o(l,{message:e(s).errors.branch_id},null,8,["message"])]),r("div",L,[o(m,{for:"position",value:"Должность"}),o(e(d),{modelValue:e(s).position,"onUpdate:modelValue":t[1]||(t[1]=i=>e(s).position=i),options:n.positions,filter:"",optionLabel:"title",placeholder:"Выберите должность",class:"select"},null,8,["modelValue","options"]),o(l,{message:e(s).errors.position},null,8,["message"]),o(l,{message:e(s).errors.position_id},null,8,["message"])])]),r("div",N,[o(m,{for:"work_phone",value:"Рабочий телефон"}),o(e(j),{id:"work_phone",class:"input",modelValue:e(s).work_phone,"onUpdate:modelValue":t[2]||(t[2]=i=>e(s).work_phone=i),autocomplete:"work_phone",mask:"+9 (999) 999 99-99",placeholder:"+9 (999) 999 99-99"},null,8,["modelValue"]),o(l,{message:e(s).errors.work_phone},null,8,["message"])]),o(x,{class:v({"opacity-25":e(s).processing}),disabled:e(s).processing},{default:p(()=>[V(" Нанять пользователя ")]),_:1},8,["class","disabled"])],32)])])]),_:1}))}},E=O(U,[["__scopeId","data-v-14bbf6c5"]]);export{E as default};
