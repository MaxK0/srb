import{Q as I,d as _,J as D,o as i,e as l,n as f,a as e,f as g,t as M,i as S,s as z,K as W,l as w,r as v,L as k,u as p,M as A,N as j,b as h,w as c,G as N,c as b,j as C,g as m,m as x,p as V,q as E,O as G,Z as P}from"./app-BlvVrBEN.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as R}from"./index-BJ7OeXDr.js";const T={class:"max-w-screen-xl mx-auto py-2 px-3 sm:px-6 lg:px-8"},U={class:"flex items-center justify-between flex-wrap"},q={class:"w-0 flex-1 flex items-center min-w-0"},F={key:0,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},H=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),J=[H],K={key:1,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Q=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1),Z=[Q],X={class:"ms-3 font-medium text-sm text-white truncate"},Y={class:"shrink-0 sm:ms-3"},ee=e("svg",{class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),se=[ee],te={__name:"Banner",setup(t){const r=I(),s=_(!0),n=_("success"),d=_("");return D(async()=>{var o,a;n.value=((o=r.props.jetstream.flash)==null?void 0:o.bannerStyle)||"success",d.value=((a=r.props.jetstream.flash)==null?void 0:a.banner)||"",s.value=!0}),(o,a)=>(i(),l("div",null,[s.value&&d.value?(i(),l("div",{key:0,class:f({"bg-indigo-500":n.value=="success","bg-red-700":n.value=="danger"})},[e("div",T,[e("div",U,[e("div",q,[e("span",{class:f(["flex p-2 rounded-lg",{"bg-indigo-600":n.value=="success","bg-red-600":n.value=="danger"}])},[n.value=="success"?(i(),l("svg",F,J)):g("",!0),n.value=="danger"?(i(),l("svg",K,Z)):g("",!0)],2),e("p",X,M(d.value),1)]),e("div",Y,[e("button",{type:"button",class:f(["-me-1 flex p-2 rounded-md focus:outline-none sm:-me-2 transition",{"hover:bg-indigo-600 focus:bg-indigo-600":n.value=="success","hover:bg-red-600 focus:bg-red-600":n.value=="danger"}]),"aria-label":"Dismiss",onClick:a[0]||(a[0]=S(u=>s.value=!1,["prevent"]))},se,2)])])])],2)):g("",!0)]))}},oe={class:"relative"},ne={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:Array,default:()=>["py-1","bg-white"]}},setup(t){const r=t;let s=_(!1);const n=a=>{s.value&&a.key==="Escape"&&(s.value=!1)};z(()=>document.addEventListener("keydown",n)),W(()=>document.removeEventListener("keydown",n));const d=w(()=>({48:"w-48"})[r.width.toString()]),o=w(()=>r.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":r.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top");return(a,u)=>(i(),l("div",oe,[e("div",{onClick:u[0]||(u[0]=B=>k(s)?s.value=!p(s):s=!p(s))},[v(a.$slots,"trigger")]),A(e("div",{class:"fixed inset-0 z-40",onClick:u[1]||(u[1]=B=>k(s)?s.value=!1:s=!1)},null,512),[[j,p(s)]]),h(N,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:c(()=>[A(e("div",{class:f(["absolute z-50 mt-2 rounded-md shadow-lg",[d.value,o.value]]),style:{display:"none"},onClick:u[2]||(u[2]=B=>k(s)?s.value=!1:s=!1)},[e("div",{class:f(["rounded-md ring-1 ring-black ring-opacity-5",t.contentClasses])},[v(a.$slots,"content")],2)],2),[[j,p(s)]])]),_:3})]))}},ae={key:0,type:"submit",class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},ie=["href"],re={__name:"DropdownLink",props:{href:String,as:String},setup(t){return(r,s)=>(i(),l("div",null,[t.as=="button"?(i(),l("button",ae,[v(r.$slots,"default")])):t.as=="a"?(i(),l("a",{key:1,href:t.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},[v(r.$slots,"default")],8,ie)):(i(),b(p(C),{key:2,href:t.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},{default:c(()=>[v(r.$slots,"default")]),_:3},8,["href"]))]))}},le={__name:"NavLink",props:{href:String,active:Boolean},setup(t){const r=t,s=w(()=>r.active?"aside-link active":"aside-link");return(n,d)=>(i(),b(p(C),{href:t.href,class:f(s.value)},{default:c(()=>[v(n.$slots,"default",{},void 0,!0)]),_:3},8,["href","class"]))}},$=L(le,[["__scopeId","data-v-3b58b844"]]),de=t=>{const s=`; ${document.cookie}`.split(`; ${t}=`);if(s.length===2)return s.pop().split(";").shift()},O=t=>(V("data-v-6dfad1b9"),t=t(),E(),t),ce={class:"aside"},ue={class:"aside__nav"},he={class:"aside__nav__block"},pe={key:0,class:"aside__nav__block"},ve=O(()=>e("h6",null,"Управление",-1)),_e={key:1,class:"aside__nav__block"},fe=O(()=>e("button",{class:"btn-main"},"Стать владельцем",-1)),ge=[fe],me={__name:"Aside",setup(t){const r=()=>{x.post(route("owner.become"))},s=w(()=>{var o;return(o=I().props.owner)==null?void 0:o.branches}),n=_([]);s.value&&(n.value=_(s.value.find(o=>o.id==de("branch_id"))));const d=()=>{const o=`branch_id=${n.value.id}; path=/; SameSite=Lax;`;x.post(route("branches.change")),document.cookie=o};return(o,a)=>(i(),l("aside",ce,[e("nav",ue,[e("div",he,[o.$page.props.auth.user.is_owner&&o.$page.props.owner.branches.length>0?(i(),b(p(R),{key:0,modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=u=>n.value=u),options:s.value,filter:"",optionLabel:"title",placeholder:"Филиал",class:"select",onChange:d},null,8,["modelValue","options"])):g("",!0)]),o.$page.props.auth.user.is_owner?(i(),l("div",pe,[ve,h($,{href:o.route("businesses.index"),active:o.route().current("businesses.index")},{default:c(()=>[m(" Бизнесом ")]),_:1},8,["href","active"]),h($,{href:o.route("positions.index"),active:o.route().current("positions.index")},{default:c(()=>[m(" Должностями ")]),_:1},8,["href","active"]),h($,{href:o.route("employees.index"),active:o.route().current("employees.index")},{default:c(()=>[m(" Сотрудниками ")]),_:1},8,["href","active"])])):(i(),l("div",_e,[e("form",{onSubmit:S(r,["prevent"])},ge,32)]))])]))}},we=L(me,[["__scopeId","data-v-6dfad1b9"]]),y=t=>(V("data-v-e5d8eb22"),t=t(),E(),t),be={class:"min-h-screen"},ye={class:"header header__main"},ke={class:"container header__container"},$e={class:"header__nav"},xe={class:"header__ul"},Se=y(()=>e("img",{src:"/assets/img/icons/burger-menu.svg",alt:"Меню"},null,-1)),Ce=[Se],Le={class:"relative"},Be={key:0,class:"flex border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300 transition"},Ae=["src","alt"],je={key:1,class:"inline-flex rounded-md"},Ie={type:"button",class:"inline-flex items-center leading-4 font-medium rounded-md text-gray-500 hover:text-gray-700 focus:outline-none focus:bg-gray-50 active:bg-gray-50 transition ease-in-out duration-150"},Me=y(()=>e("svg",{class:"ms-2 -me-0.5 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})],-1)),ze=y(()=>e("div",{class:"block px-4 py-2 text-xs text-gray-500"}," Управление аккаунтом ",-1)),Ne=y(()=>e("div",{class:"border-t border-gray-200"},null,-1)),Ve={key:0,class:"bg-white shadow"},Ee={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},Oe={__name:"AppLayout",props:{title:String},setup(t){const r=G(),s=w(()=>r.state.isAsideOpen),n=_(!1),d=()=>{r.commit("toggleIsAsideOpen"),s.value&&window.innerWidth<1240?n.value=!0:window.innerWidth<1240&&(n.value=!1)},o=()=>{x.post(route("logout"))};return z(()=>{window.innerWidth<1240&&r.commit("setIsAsideOpen",!1)}),(a,u)=>(i(),l("div",null,[h(p(P),{title:t.title},null,8,["title"]),h(te),e("div",be,[e("header",ye,[e("div",ke,[e("nav",$e,[e("div",xe,[e("button",{onClick:d,class:"toggle-aside"},Ce),n.value?(i(),l("div",{key:0,class:"fixed inset-0 z-40",onClick:d})):g("",!0),h(p(C),{class:"link-nav",href:a.route("home")},{default:c(()=>[m("SRB")]),_:1},8,["href"]),e("div",null,[e("div",Le,[h(ne,{align:"right",width:"48"},{trigger:c(()=>[a.$page.props.jetstream.managesProfilePhotos?(i(),l("button",Be,[e("img",{class:"h-8 w-8 rounded-full object-cover",src:a.$page.props.auth.user.profile_photo_url,alt:a.$page.props.auth.user.name},null,8,Ae)])):(i(),l("span",je,[e("button",Ie,[m(M(a.$page.props.auth.user.name)+" ",1),Me])]))]),content:c(()=>[ze,Ne,e("form",{onSubmit:S(o,["prevent"])},[h(re,{as:"button"},{default:c(()=>[m(" Выйти ")]),_:1})],32)]),_:1})])])])])])]),a.$slots.header?(i(),l("header",Ve,[e("div",Ee,[v(a.$slots,"header",{},void 0,!0)])])):g("",!0),h(N,{name:"slide-aside"},{default:c(()=>[s.value?(i(),b(we,{key:0})):g("",!0)]),_:1}),e("main",{class:f(["main",{main_collapsed:s.value,main_expanded:!s.value}])},[v(a.$slots,"default",{},void 0,!0)],2)])]))}},Pe=L(Oe,[["__scopeId","data-v-e5d8eb22"]]);export{Pe as A,de as g};
