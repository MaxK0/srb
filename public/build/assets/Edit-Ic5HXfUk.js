import{T as f,c as h,w as c,o as b,a as r,i as y,b as s,u as e,g,n as k,m as V}from"./app-BlvVrBEN.js";import{A as w}from"./AppLayout-yWdTq67O.js";import{_ as m}from"./InputLabel-BLj-ccaX.js";import{_ as n}from"./InputError-uvQIMCwL.js";import{_ as v}from"./PrimaryButton-Drh5wuWt.js";import{s as d}from"./index-BJ7OeXDr.js";import{s as j}from"./index-D4U8QGH7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-ID1KrQnb.js";const x={class:"employees__edit"},O={class:"container"},$={class:"form__blocks"},q={class:"form__block"},B={class:"form__block"},C={class:"form__block"},M={__name:"Edit",props:{employee:{type:Object,required:!0},branches:{type:Object,required:!0},positions:Object,filter:{type:Object,required:!0}},setup(p){const t=p,o=f({branch:t.branches.find(i=>i.id==(t.filter.branchId??t.employee.branch.id)),position:t.positions.find(i=>{if(t.employee.position)return i.id==t.employee.position.id}),work_phone:t.employee.work_phone}),u=()=>{const i=o.branch.id;V.get(route("employees.edit",{branch_id:i,employee:t.employee}))},_=()=>{o.put(route("employees.update",t.employee))};return(i,a)=>(b(),h(w,{title:"Редактировать сотрудника"},{default:c(()=>[r("section",x,[r("div",O,[r("form",{class:"form",onSubmit:y(_,["prevent"])},[r("div",$,[r("div",q,[s(m,{for:"branch",value:"Филиал"}),s(e(d),{modelValue:e(o).branch,"onUpdate:modelValue":a[0]||(a[0]=l=>e(o).branch=l),options:p.branches,filter:"",optionLabel:"title",placeholder:"Выберите филиал",class:"select",onChange:u},null,8,["modelValue","options"]),s(n,{message:e(o).errors.branch},null,8,["message"]),s(n,{message:e(o).errors.branch_id},null,8,["message"])]),r("div",B,[s(m,{for:"position",value:"Должность"}),s(e(d),{modelValue:e(o).position,"onUpdate:modelValue":a[1]||(a[1]=l=>e(o).position=l),options:p.positions,filter:"",optionLabel:"title",placeholder:"Выберите должность",class:"select"},null,8,["modelValue","options"]),s(n,{message:e(o).errors.position},null,8,["message"]),s(n,{message:e(o).errors.position_id},null,8,["message"])])]),r("div",C,[s(m,{for:"work_phone",value:"Рабочий телефон"}),s(e(j),{id:"work_phone",class:"input",modelValue:e(o).work_phone,"onUpdate:modelValue":a[2]||(a[2]=l=>e(o).work_phone=l),autocomplete:"work_phone",mask:"+9 (999) 999 99-99",placeholder:"+9 (999) 999 99-99"},null,8,["modelValue"]),s(n,{message:e(o).errors.work_phone},null,8,["message"])]),s(v,{class:k({"opacity-25":e(o).processing}),disabled:e(o).processing},{default:c(()=>[g(" Редактировать сотрудника ")]),_:1},8,["class","disabled"])],32)])])]),_:1}))}};export{M as default};
